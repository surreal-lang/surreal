{"id":"toybeam-0bi","title":"Unlink and demonitor","description":"Add ability to remove links and monitors.\n\n## Requirements\n\n- `Unlink { target }` - remove bidirectional link\n- `Demonitor { ref }` - cancel a monitor by its reference\n- Monitor instruction should return a reference for later cancellation\n\n## Changes Needed\n\n- `Monitor` instruction needs to store monitor ref in dest register\n- Track monitors by ref, not just by target pid\n- `Value::MonitorRef(u64)` or reuse `Value::Ref`","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-02T08:11:50.331397-06:00","updated_at":"2026-01-02T18:41:06.576024-06:00","closed_at":"2026-01-02T18:41:06.576024-06:00","close_reason":"Added Unlink instruction for removing bidirectional links and Demonitor for canceling monitors by ref. Monitor now returns a ref in dest register. Updated Process to track monitors with refs on both sides.","labels":["vm"],"dependencies":[{"issue_id":"toybeam-0bi","depends_on_id":"toybeam-mje","type":"blocks","created_at":"2026-01-02T08:13:15.208106-06:00","created_by":"daemon"}]}
{"id":"toybeam-0g4","title":"Generics (type parameters)","description":"Add support for generic type parameters like `Option\u003cT\u003e` and `Result\u003cT, E\u003e`.\n\n## Current State\nEnums work but require concrete types:\n```rust\nenum Option {\n    Some(int),\n    None,\n}\n```\n\n## Desired\n```rust\nenum Option\u003cT\u003e {\n    Some(T),\n    None,\n}\n\nenum Result\u003cT, E\u003e {\n    Ok(T),\n    Err(E),\n}\n\nfn map\u003cT, U\u003e(opt: Option\u003cT\u003e, f: fn(T) -\u003e U) -\u003e Option\u003cU\u003e {\n    match opt {\n        Some(x) =\u003e Some(f(x)),\n        None =\u003e None,\n    }\n}\n```\n\n## Implementation Areas\n1. **Lexer/Parser**: Parse `\u003cT\u003e` type parameter syntax\n2. **AST**: Add `type_params` to EnumDef, StructDef, Function\n3. **Type System**: Generic type representation and instantiation\n4. **Codegen**: Monomorphization or type erasure strategy\n\n## Notes\n- BEAM/Erlang is dynamically typed, so runtime representation doesn't change\n- Main benefit is compile-time type checking and better ergonomics\n- Could start with simple monomorphization (generate code per instantiation)","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-02T17:51:54.532908-06:00","updated_at":"2026-01-02T19:43:12.732098-06:00","closed_at":"2026-01-02T19:43:12.732098-06:00","close_reason":"Added generic type parameters to parser. Functions, structs, and enums can now declare type params like \u003cT, U\u003e. Type annotations support type args like Option\u003cint\u003e. 5 new parser tests."}
{"id":"toybeam-1wx","title":"Create stdlib/io module","description":"Implement io module with println, print, format functions using FFI to erlang:io","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-03T15:43:28.468392-06:00","updated_at":"2026-01-03T15:54:07.716215-06:00","closed_at":"2026-01-03T15:54:07.716215-06:00","close_reason":"Initial implementation complete - modules compile successfully"}
{"id":"toybeam-2s3","title":"Type checker - semantic analysis pass","description":"Add a type checking phase that validates:\n- Function parameter and return types match usage\n- Struct field types are respected\n- Enum variant types are correct\n- Type annotations on let bindings are verified\n- Method calls have correct receiver types\n\nThis is foundational for making generics meaningful.","status":"open","priority":1,"issue_type":"feature","created_at":"2026-01-03T22:35:04.26421-06:00","updated_at":"2026-01-03T22:35:04.26421-06:00"}
{"id":"toybeam-2s6","title":"Selective receive optimization","description":"","status":"open","priority":3,"issue_type":"feature","created_at":"2026-01-02T19:54:00.780558-06:00","updated_at":"2026-01-02T19:54:00.780558-06:00"}
{"id":"toybeam-3f1","title":"stdlib/keyword - Keyword lists","description":"Implement Keyword module for ordered key-value pairs (list of tuples). get, put, delete, keys, values, merge, has_key, to_map. Used for options/config.","status":"open","priority":3,"issue_type":"task","created_at":"2026-01-03T20:52:19.902754-06:00","updated_at":"2026-01-03T20:52:19.902754-06:00"}
{"id":"toybeam-3h5","title":"Distributed Erlang","description":"","status":"open","priority":4,"issue_type":"feature","created_at":"2026-01-02T19:54:02.69802-06:00","updated_at":"2026-01-02T19:54:02.69802-06:00"}
{"id":"toybeam-3ly","title":"stdlib/genserver - OTP GenServer","description":"Implement GenServer behavior for Dream. start, start_link, call, cast, reply. Define callbacks: init, handle_call, handle_cast, handle_info, terminate. Critical for OTP patterns.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-03T20:52:42.366985-06:00","updated_at":"2026-01-03T20:52:42.366985-06:00"}
{"id":"toybeam-48a","title":"Generics implementation","description":"Make generic type parameters actually work:\n- Type parameter substitution in structs (e.g., Map\u003cString, int\u003e)\n- Type parameter substitution in enums (e.g., Option\u003cint\u003e)\n- Generic function instantiation\n- Type inference for generic functions\n- Decide on strategy: monomorphization vs type erasure\n\nCurrently generics are syntactic only - they're parsed but have no semantic meaning.","status":"open","priority":1,"issue_type":"feature","created_at":"2026-01-03T22:35:09.599787-06:00","updated_at":"2026-01-03T22:35:09.599787-06:00","dependencies":[{"issue_id":"toybeam-48a","depends_on_id":"toybeam-2s3","type":"blocks","created_at":"2026-01-03T22:35:20.22944-06:00","created_by":"scrogson"}]}
{"id":"toybeam-4by","title":"Fix tree-sitter keyword highlighting word boundaries","description":"","status":"closed","priority":2,"issue_type":"bug","created_at":"2026-01-03T17:50:56.959143-06:00","updated_at":"2026-01-03T17:53:58.610134-06:00","closed_at":"2026-01-03T17:53:58.610134-06:00","close_reason":"Fixed tree-sitter grammar to allow lowercase module names in path expressions"}
{"id":"toybeam-4jn","title":"Binary/bitstring support","description":"Add binary data type for byte manipulation.\n\n## Requirements\n\n- `Value::Binary(Vec\u003cu8\u003e)` - byte array\n- Instructions:\n  - `MakeBinary { bytes, dest }` - create from literal\n  - `BinarySize { bin, dest }` - get byte length\n  - `BinaryAt { bin, index, dest }` - get byte at index\n  - `BinarySlice { bin, start, len, dest }` - extract slice\n  - `BinaryConcat { a, b, dest }` - concatenate binaries\n- Pattern matching on binaries (stretch goal)\n\n## Use Cases\n\n- Network protocols\n- File I/O\n- Serialization","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-02T08:11:21.753707-06:00","updated_at":"2026-01-02T19:37:19.587367-06:00","closed_at":"2026-01-02T19:37:19.587367-06:00","close_reason":"Added Value::Binary with MakeBinary, BinarySize, BinaryAt, BinarySlice, BinaryConcat, IsBinary, StringToBinary, BinaryToString instructions. Added Pattern::Binary for pattern matching. 11 new tests.","labels":["vm"]}
{"id":"toybeam-4zb","title":"stdlib/map - HashMap implementation","description":"Implement Map module for key-value storage. Wrap Erlang maps with idiomatic API: new, get, put, delete, keys, values, merge, has_key, size, to_list, from_list.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-03T20:51:44.192151-06:00","updated_at":"2026-01-03T21:24:47.071462-06:00","closed_at":"2026-01-03T21:24:47.071462-06:00","close_reason":"Implemented stdlib/map module with Map struct, Option-based get(), Result-based fetch(), and core operations. Added Type::Map to parser. Example works with Map::method() syntax."}
{"id":"toybeam-5l3","title":"ETS (Erlang Term Storage)","description":"","status":"open","priority":2,"issue_type":"feature","created_at":"2026-01-02T19:54:00.130366-06:00","updated_at":"2026-01-02T19:54:00.130366-06:00"}
{"id":"toybeam-6p0","title":"Type checking BIFs","description":"Add type checking instructions for guards and runtime checks.\n\n## Requirements\n\nNew instructions that check type and store 1 (true) or 0 (false):\n- `IsInteger { source, dest }`\n- `IsAtom { source, dest }`\n- `IsTuple { source, dest }`\n- `IsList { source, dest }`\n- `IsPid { source, dest }`\n- `IsFunction { source, dest }` (for closures)\n\n## Use Cases\n\n- Guard expressions: `fn foo(x) when is_integer(x) -\u003e ...`\n- Runtime type dispatch\n- Defensive programming","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-02T08:10:51.616443-06:00","updated_at":"2026-01-02T15:17:55.578054-06:00","closed_at":"2026-01-02T15:17:55.578054-06:00","close_reason":"Added 7 type checking instructions: IsInteger, IsAtom, IsTuple, IsList, IsPid, IsFunction, IsString. All return 1 (true) or 0 (false). 8 tests added.","labels":["vm"]}
{"id":"toybeam-6py","title":"Add prelude with Option, Result, etc.","description":"Create a prelude that's automatically imported into every module. Should include: Option (Some, None), Result (Ok, Err). This enables idiomatic Rust-style code without explicit imports.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-03T21:15:11.776406-06:00","updated_at":"2026-01-03T22:32:14.32689-06:00","closed_at":"2026-01-03T22:32:14.32689-06:00","close_reason":"Implemented prelude with Option\u003cT\u003e and Result\u003cT, E\u003e auto-injection into all modules"}
{"id":"toybeam-6qv","title":"Function tables and module registry","description":"Add support for named functions and modules to the VM.\n\n## Requirements\n\n- Function table: store named functions with module, name, arity\n- Module registry: lookup module:function/arity at runtime\n- New instructions:\n  - `CallMFA { module, function, arity }` - call a module function\n  - `CallLocal { function, arity }` - call within current module\n- Function references that can be stored in registers\n\n## Design Considerations\n\n- Functions need to be addressable by name, not just instruction index\n- Consider how to handle function clauses (multiple definitions with different patterns)\n- Module loading at VM startup vs dynamic loading","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-02T08:09:50.214978-06:00","updated_at":"2026-01-02T11:16:39.579756-06:00","closed_at":"2026-01-02T11:16:39.579756-06:00","close_reason":"Implemented function tables and module registry with CallMFA, TailCall, MakeFun, Apply, SpawnMFA instructions. 76 tests passing.","labels":["vm"]}
{"id":"toybeam-6tg","title":"Create stdlib/list module","description":"Implement list module with map, filter, fold, reverse, etc. using FFI to erlang:lists","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-03T15:43:33.750303-06:00","updated_at":"2026-01-03T15:54:07.717487-06:00","closed_at":"2026-01-03T15:54:07.717487-06:00","close_reason":"Initial implementation complete - modules compile successfully"}
{"id":"toybeam-77j","title":"stdlib/system - System interaction","description":"Implement System module: env, get_env, put_env, argv, halt, cmd, cwd, tmp_dir, user_home. Return Option/Result where appropriate.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-03T20:52:42.366919-06:00","updated_at":"2026-01-03T20:52:42.366919-06:00"}
{"id":"toybeam-8ol","title":"Bit syntax for binaries","description":"","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-02T19:53:59.906983-06:00","updated_at":"2026-01-02T20:28:43.837393-06:00","closed_at":"2026-01-02T20:28:43.837393-06:00","close_reason":"Implemented bit syntax with segment specifiers for binary construction and pattern matching"}
{"id":"toybeam-92y","title":"Implement method chaining (expr.method() syntax)","description":"Support method chaining like safe_div(10, 2).unwrap_or(0). Currently fails with 'Method calls not yet supported'. This requires resolving methods on expression results, not just struct instances.","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-03T18:36:37.218904-06:00","updated_at":"2026-01-03T19:56:19.833964-06:00","closed_at":"2026-01-03T19:56:19.833964-06:00","close_reason":"Implemented UFCS for method chaining. expr.method(args) is transformed to method(expr, args) where method must be in scope (local or imported)."}
{"id":"toybeam-94d","title":"Compiler: Codegen to bytecode","description":"Generate ToyBEAM bytecode from AST.\n\n## Requirements\n\n- Walk AST and emit instructions\n- Handle:\n  - Function definitions → function table entries\n  - Let bindings → register allocation\n  - Pattern matching → Match instructions\n  - Spawn/send/receive → process instructions\n  - Arithmetic/comparison → binary ops\n  - Control flow → jumps\n\n## Register Allocation\n\n- Simple: stack-based allocation\n- Track live registers, reuse when possible\n- Function args in R0, R1, ...\n- Return value in R0\n\n## Depends On\n\n- Lexer/parser (toybeam-xxx)\n- Function tables in VM (toybeam-6qv)","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-02T08:12:43.904638-06:00","updated_at":"2026-01-02T14:40:28.777216-06:00","closed_at":"2026-01-02T14:40:28.777216-06:00","close_reason":"Implemented codegen module compiling AST to bytecode. Includes expression compilation, control flow, function calls, data structures, process primitives, and pattern matching. Fixed register clobbering across function calls using stack saves.","labels":["compiler"],"dependencies":[{"issue_id":"toybeam-94d","depends_on_id":"toybeam-h5z","type":"blocks","created_at":"2026-01-02T08:13:07.564985-06:00","created_by":"daemon"},{"issue_id":"toybeam-94d","depends_on_id":"toybeam-6qv","type":"blocks","created_at":"2026-01-02T08:13:07.754835-06:00","created_by":"daemon"}]}
{"id":"toybeam-9z3","title":"Tail call optimization","description":"Add proper tail call optimization for recursive functions.\n\n## Requirements\n\n- New instruction: `TailCall { target }` or `TailCallMFA { module, function, arity }`\n- Reuse current stack frame instead of pushing new one\n- Critical for recursive process loops that run indefinitely\n\n## Example\n\n```erlang\nloop(State) -\u003e\n    receive\n        Msg -\u003e loop(handle(Msg, State))  % Must not grow stack\n    end.\n```\n\nWithout TCO, long-running processes would stack overflow.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-02T08:10:20.718196-06:00","updated_at":"2026-01-02T11:16:59.190217-06:00","closed_at":"2026-01-02T11:16:59.190217-06:00","close_reason":"Implemented as part of module system: TailCallMFA and TailCallLocal instructions added in b002669.","labels":["vm"]}
{"id":"toybeam-a04","title":"Design and implement Dream stdlib","description":"Create a standard library for Dream that provides idiomatic wrappers around Erlang/OTP functionality. The stdlib should use the FFI system to call into Erlang modules while providing a Rust-like API.\n\nKey modules to implement:\n- io: Console I/O (println, print, format)\n- list: List operations (map, filter, fold, etc.)\n- string: String manipulation\n- option: Option\u003cT\u003e type (Some/None)\n- result: Result\u003cT, E\u003e type (Ok/Err)\n- process: Process spawning and messaging\n- timer: Timing utilities\n\nDesign principles:\n- Use Rust-like naming conventions\n- Leverage existing Erlang stdlib via FFI\n- Provide type-safe wrappers where possible","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-03T15:42:47.863459-06:00","updated_at":"2026-01-03T20:31:34.095724-06:00","closed_at":"2026-01-03T20:31:34.095724-06:00","close_reason":"Added stdlib/string and stdlib/timer modules. Fixed split to use :all option, removed deprecated 'now' BIF to allow timer::now import.","dependencies":[{"issue_id":"toybeam-a04","depends_on_id":"toybeam-1wx","type":"blocks","created_at":"2026-01-03T15:43:54.403218-06:00","created_by":"scrogson"},{"issue_id":"toybeam-a04","depends_on_id":"toybeam-6tg","type":"blocks","created_at":"2026-01-03T15:43:59.595355-06:00","created_by":"scrogson"},{"issue_id":"toybeam-a04","depends_on_id":"toybeam-xa0","type":"blocks","created_at":"2026-01-03T15:44:04.786067-06:00","created_by":"scrogson"},{"issue_id":"toybeam-a04","depends_on_id":"toybeam-c2a","type":"blocks","created_at":"2026-01-03T15:44:09.962952-06:00","created_by":"scrogson"}]}
{"id":"toybeam-aid","title":"Big integers","description":"","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-02T19:53:49.431765-06:00","updated_at":"2026-01-02T20:08:49.070354-06:00","closed_at":"2026-01-02T20:08:49.070354-06:00","close_reason":"Implemented arbitrary precision integers with automatic overflow promotion"}
{"id":"toybeam-awx","title":"Add binary type support","description":"## Problem\n\nThe examples in `examples/binary.tb` demonstrate binary syntax (`\u003c\u003c...\u003e\u003e`) but all functions return `int` and `0` as placeholders because there's no proper `binary` type in the type system.\n\n## Requirements\n\n1. Add `binary` as a recognized type annotation (e.g., `-\u003e binary`)\n2. Update codegen to handle binary values as first-class return values\n3. Update `examples/binary.tb` to return actual binary values instead of `0`\n\n## Current State\n\n- Parser handles binary construction syntax correctly\n- Parser handles binary pattern matching correctly\n- Type system only has `Named`, `TypeVar`, `Tuple`, `List` variants\n- No way to annotate a function as returning a binary\n\n## Files to modify\n\n- `src/compiler/ast.rs` - possibly add Binary variant to Type enum or recognize \"binary\" as a named type\n- `src/compiler/codegen.rs` - handle binary return values\n- `examples/binary.tb` - update to use proper types and return values","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-02T21:52:40.624077-06:00","updated_at":"2026-01-02T21:58:59.781162-06:00","closed_at":"2026-01-02T21:58:59.781162-06:00","close_reason":"Added Type::Binary variant to AST, parser support for 'binary' keyword as type, and updated examples/binary.tb to use proper return types"}
{"id":"toybeam-ba2","title":"Closures and environment capture","description":"Add closures that capture variables from their environment.\n\n## Requirements\n\n- Closure value type that stores code + captured environment\n- New instructions:\n  - `MakeClosure { code, captures: Vec\u003cRegister\u003e }` - create closure capturing registers\n  - `ApplyClosure { closure, args }` - apply a closure\n- Closures needed for `spawn(|| ...)` syntax in the language\n\n## Design Considerations\n\n- Captured values must be copied (Erlang semantics - no shared mutable state)\n- Closure arity must be tracked\n- Consider: should closures be first-class values passable in messages?","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-02T08:10:20.504413-06:00","updated_at":"2026-01-02T11:53:08.710599-06:00","closed_at":"2026-01-02T11:53:08.710599-06:00","close_reason":"Implemented closures with MakeClosure instruction and extended Apply to handle Value::Closure. 4 new tests added (80 total).","labels":["vm"],"dependencies":[{"issue_id":"toybeam-ba2","depends_on_id":"toybeam-6qv","type":"blocks","created_at":"2026-01-02T08:13:07.941029-06:00","created_by":"daemon"}]}
{"id":"toybeam-c2a","title":"Create stdlib/result module","description":"Move Result\u003cT, E\u003e enum and helper functions from examples to stdlib","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-03T15:43:44.301158-06:00","updated_at":"2026-01-03T15:54:07.718437-06:00","closed_at":"2026-01-03T15:54:07.718437-06:00","close_reason":"Initial implementation complete - modules compile successfully"}
{"id":"toybeam-cbt","title":"stdlib/enum + Iter trait","description":"Implement Enum module with Iter trait for collection operations: map, filter, reduce, find, any, all, count, take, drop, chunk, zip, flat_map, sort_by, group_by, uniq. Trait allows custom types to be enumerable.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-03T20:52:19.902761-06:00","updated_at":"2026-01-03T20:52:19.902761-06:00"}
{"id":"toybeam-che","title":"List BIFs","description":"Add built-in list operations.\n\n## Requirements\n\n- `ListLength { list, dest }` - O(n) length\n- `ListAppend { a, b, dest }` - concatenate lists (++)\n- `ListReverse { list, dest }` - reverse a list\n- `ListNth { list, n, dest }` - get nth element (0-based)\n- `ListMember { elem, list, dest }` - check membership\n\n## Future Additions\n\n- `ListMap`, `ListFilter`, `ListFold` (or implement in language)\n- `ListSort` with comparator\n- `ListFlatten`","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-02T08:11:37.170302-06:00","updated_at":"2026-01-02T14:54:01.896604-06:00","closed_at":"2026-01-02T14:54:01.896604-06:00","close_reason":"Added ListLength, ListAppend, ListReverse, ListNth, and ListMember instructions with full test coverage.","labels":["vm"]}
{"id":"toybeam-dwe","title":"Guards in pattern matching","description":"Add guard expressions to pattern matching.\n\n## Requirements\n\n- Guards are boolean expressions evaluated after pattern match succeeds\n- If guard fails, try next clause\n- Support in both `Match` and `ReceiveMatch` instructions\n\n## Syntax Example (future language)\n\n```rust\nfn abs(n) when n \u003c 0 -\u003e -n;\nfn abs(n) -\u003e n;\n\nreceive {\n    (value, pid) when value \u003e 0 =\u003e send(pid, :positive),\n    (value, pid) =\u003e send(pid, :non_positive)\n}\n```\n\n## Implementation Options\n\n1. Guard as separate instruction sequence with bool result\n2. Guard as expression AST evaluated by VM\n3. Inline guard checks in pattern match instruction","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-02T08:10:51.828003-06:00","updated_at":"2026-01-02T15:29:26.088682-06:00","closed_at":"2026-01-02T15:29:26.088682-06:00","close_reason":"Guards work in match expressions. Fixed register allocation for multiple arms. Added 3 tests. Note: receive guards require VM changes (message can't be consumed before guard passes) - needs follow-up issue.","labels":["vm"],"dependencies":[{"issue_id":"toybeam-dwe","depends_on_id":"toybeam-6p0","type":"blocks","created_at":"2026-01-02T08:13:08.129522-06:00","created_by":"daemon"}]}
{"id":"toybeam-ejv","title":"stdlib/uri - URI parsing","description":"Implement URI module: parse (returns Result), to_string, encode, decode, merge, query_params. Struct for URI components.","status":"open","priority":3,"issue_type":"task","created_at":"2026-01-03T20:52:42.36687-06:00","updated_at":"2026-01-03T20:52:42.36687-06:00"}
{"id":"toybeam-elo","title":"Timers (send_after, start_timer)","description":"Add timer support for delayed message sending.\n\n## Requirements\n\n- `SendAfter { delay, to, msg, dest }` - send message after delay, store timer ref\n- `StartTimer { delay, dest_reg, msg, timer_dest }` - start timer that sends `{:timeout, ref, msg}`\n- `CancelTimer { timer_ref }` - cancel a pending timer\n- Timer delay in milliseconds (or reductions for deterministic testing)\n\n## Use Cases\n\n- Heartbeat/keepalive patterns\n- Request timeouts\n- Periodic tasks\n- Debouncing\n\n## Implementation\n\n- Scheduler maintains timer heap/queue\n- Timers checked each scheduler step\n- Timer refs for cancellation","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-02T08:11:21.533712-06:00","updated_at":"2026-01-02T19:16:45.014096-06:00","closed_at":"2026-01-02T19:16:45.014096-06:00","close_reason":"Added timer support with SendAfter, StartTimer, CancelTimer, and ReadTimer instructions. Timers are tracked in a queue and fire based on reduction counts for deterministic testing.","labels":["vm"],"dependencies":[{"issue_id":"toybeam-elo","depends_on_id":"toybeam-mje","type":"blocks","created_at":"2026-01-02T08:13:15.40169-06:00","created_by":"daemon"}]}
{"id":"toybeam-f7h","title":"stdlib/code - Code server","description":"Implement Code module for code server interaction: load_file, ensure_loaded, purge, delete, all_loaded, get_path, add_path.","status":"open","priority":3,"issue_type":"task","created_at":"2026-01-03T20:52:42.366895-06:00","updated_at":"2026-01-03T20:52:42.366895-06:00"}
{"id":"toybeam-h5z","title":"Compiler: Lexer and parser","description":"Build lexer and parser for the Rust-like language.\n\n## Requirements\n\n### Lexer\n- Tokenize: keywords, identifiers, literals, operators, punctuation\n- Handle comments (// and /* */)\n- Track source locations for error messages\n\n### Parser\n- Recursive descent or use parser combinator library (nom, pest, lalrpop)\n- Produce AST\n\n### Initial Grammar (subset)\n```\nmodule      = \"mod\" IDENT \"{\" item* \"}\"\nitem        = function | struct | const\nfunction    = \"fn\" IDENT \"(\" params \")\" (\"-\u003e\" type)? block\nparams      = (IDENT \":\" type (\",\" IDENT \":\" type)*)?\nblock       = \"{\" stmt* expr? \"}\"\nstmt        = let_stmt | expr_stmt\nexpr        = match_expr | if_expr | call | binary_op | ...\n```\n\n## Tooling Options\n\n- Hand-written recursive descent (most control)\n- `logos` for lexer + hand-written parser\n- `lalrpop` for full parser generator\n- `pest` for PEG parsing","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-02T08:12:43.679561-06:00","updated_at":"2026-01-02T13:18:25.496384-06:00","closed_at":"2026-01-02T13:18:25.496384-06:00","close_reason":"Implemented lexer and parser with logos. Supports functions, structs, enums, match, if, receive, spawn, send. 17 compiler tests added (97 total).","labels":["compiler"]}
{"id":"toybeam-hqc","title":"Maps data type","description":"Add maps (hash tables) for key-value storage.\n\n## Requirements\n\n- `Value::Map(HashMap\u003cValue, Value\u003e)` - key-value map\n- Instructions:\n  - `MakeMap { pairs, dest }` - create from key-value pairs on stack\n  - `MapGet { map, key, dest }` - get value (crashes if missing)\n  - `MapGetDefault { map, key, default, dest }` - get with default\n  - `MapPut { map, key, value, dest }` - insert/update (returns new map)\n  - `MapRemove { map, key, dest }` - remove key (returns new map)\n  - `MapHas { map, key, dest }` - check if key exists\n  - `MapSize { map, dest }` - get number of entries\n- Pattern matching on maps\n\n## Notes\n\n- Maps are immutable (functional updates return new map)\n- Keys can be any value type\n- Need Eq + Hash for Value (or use BTreeMap with Ord)","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-02T08:11:21.9657-06:00","updated_at":"2026-01-02T18:16:29.492895-06:00","closed_at":"2026-01-02T18:16:29.492895-06:00","close_reason":"Implemented maps: Value::Map type, 10 instructions (MakeMap, MapGet, MapGetDefault, MapPut, MapRemove, MapHas, MapSize, MapKeys, MapValues, IsMap), pattern matching, and full test coverage","labels":["vm"]}
{"id":"toybeam-id0","title":"Floats and numeric operations","description":"Add floating-point numbers.\n\n## Requirements\n\n- `Value::Float(f64)` - 64-bit float\n- `LoadFloat { value, dest }` instruction\n- Arithmetic works with mixed int/float (promote to float)\n- Float-specific operations:\n  - `Floor`, `Ceil`, `Round`, `Trunc`\n  - `Sqrt`, `Pow`, `Abs`\n- Comparison across int/float\n\n## Considerations\n\n- NaN handling\n- Float equality in pattern matching (exact vs epsilon)","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-02T08:11:36.958402-06:00","updated_at":"2026-01-02T18:34:23.810652-06:00","closed_at":"2026-01-02T18:34:23.810652-06:00","close_reason":"Implemented floats: Value::Float(f64), LoadFloat, IsFloat, IntToFloat, FloatToInt, Floor, Ceil, Round, Trunc, Sqrt, Abs, Pow instructions. Custom PartialEq/Eq using to_bits() for NaN handling. 8 tests.","labels":["vm"]}
{"id":"toybeam-ill","title":"Process dictionary","description":"Add per-process key-value storage.\n\n## Requirements\n\n- Each process has a local dictionary (HashMap)\n- Instructions:\n  - `PutDict { key, value }` - store value, returns old value or None\n  - `GetDict { key, dest }` - get value or None\n  - `EraseDict { key, dest }` - remove and return value\n  - `GetDictKeys { dest }` - get all keys as list\n\n## Use Cases\n\n- Process-local state without passing through all functions\n- Debugging/tracing context\n- Caching\n\n## Notes\n\n- Controversial in Erlang (hidden state), but useful\n- Dictionary cleared on process exit","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-02T08:11:37.378315-06:00","updated_at":"2026-01-02T18:06:09.029122-06:00","closed_at":"2026-01-02T18:06:09.029122-06:00","close_reason":"Implemented process dictionary: PutDict, GetDict, EraseDict, GetDictKeys instructions with full test coverage","labels":["vm"]}
{"id":"toybeam-j10","title":"stdlib/datetime - Date and time","description":"Implement DateTime module with timezone support. now, utc_now, from_unix, to_unix, add, diff, format, parse. Consider generic over timezone. Use calendar module.","status":"open","priority":3,"issue_type":"task","created_at":"2026-01-03T20:52:42.366414-06:00","updated_at":"2026-01-03T20:52:42.366414-06:00"}
{"id":"toybeam-lp3","title":"try/catch/after error handling","description":"Add structured error handling.\n\n## Requirements\n\n- `Try { catch_target, after_target }` - begin try block\n- `EndTry` - successful completion of try block\n- `Throw { class, reason }` - throw an exception\n  - Classes: `:error`, `:exit`, `:throw`\n- Catch block receives `{class, reason, stacktrace}`\n- After block always runs (cleanup)\n\n## Semantics\n\n```rust\ntry {\n    risky_operation()\n} catch {\n    (:error, reason) =\u003e handle_error(reason),\n    (:exit, reason) =\u003e handle_exit(reason)\n} after {\n    cleanup()\n}\n```\n\n## Implementation\n\n- Exception stack in process state\n- Unwind to nearest catch on throw\n- After blocks must run even on exception","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-02T08:11:50.54581-06:00","updated_at":"2026-01-02T19:29:36.897356-06:00","closed_at":"2026-01-02T19:29:36.897356-06:00","close_reason":"Added try/catch/after with Try, EndTry, Throw, GetException, ClearException, Reraise instructions. Exception stack tracks handlers for unwinding. 6 new tests.","labels":["vm"]}
{"id":"toybeam-mje","title":"References (make_ref)","description":"Add unique reference values for request/response correlation.\n\n## Requirements\n\n- `Value::Ref(u64)` - globally unique reference\n- `MakeRef { dest }` instruction - creates new unique ref\n- Refs are comparable for equality only\n- Used for call/response patterns:\n\n```rust\nlet ref = make_ref();\nsend(server, (ref, :get_data));\nreceive {\n    (^ref, data) =\u003e data  // Match only our response\n}\n```\n\n## Implementation\n\n- Scheduler maintains global ref counter\n- Each ref is unique across all processes","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-02T08:10:52.035315-06:00","updated_at":"2026-01-02T18:25:44.826107-06:00","closed_at":"2026-01-02T18:25:44.826107-06:00","close_reason":"Implemented references: Value::Ref(u64), MakeRef and IsRef instructions, global ref counter in Scheduler, 5 tests covering uniqueness and usage as map keys","labels":["vm"]}
{"id":"toybeam-muk","title":"Exit reasons and trap_exit","description":"Add proper exit signals with reasons and trap_exit flag.\n\n## Requirements\n\n### Exit Reasons\n- Processes exit with a reason (not just crash/normal)\n- `Exit { reason: Value }` instruction\n- Exit reasons propagate through links\n- Normal exit = `:normal` atom\n\n### trap_exit Flag\n- Process flag to convert exit signals to messages\n- When trap_exit=true, linked process crash sends `{:EXIT, Pid, Reason}` message\n- `SetFlag { flag, value }` instruction\n- `TrapExit` flag enum\n\n### Link Behavior\n- Normal exit: no signal to linked processes (unless trap_exit)\n- Abnormal exit: signal all linked processes\n- trap_exit converts signals to mailbox messages","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-02T08:10:20.925012-06:00","updated_at":"2026-01-02T18:51:04.900192-06:00","closed_at":"2026-01-02T18:51:04.900192-06:00","close_reason":"Added Exit instruction with custom reasons, TrapExit instruction for converting exit signals to messages, and updated SystemMsg to use Value for exit reasons. Normal exits don't propagate to linked processes, abnormal exits do (unless trap_exit is enabled).","labels":["vm"]}
{"id":"toybeam-nxb","title":"Networking (TCP/UDP)","description":"","status":"open","priority":2,"issue_type":"feature","created_at":"2026-01-02T19:54:00.342126-06:00","updated_at":"2026-01-02T19:54:00.342126-06:00"}
{"id":"toybeam-pc9","title":"Ports for external programs","description":"","status":"open","priority":3,"issue_type":"feature","created_at":"2026-01-02T19:54:00.564199-06:00","updated_at":"2026-01-02T19:54:00.564199-06:00"}
{"id":"toybeam-pik","title":"Add multi-file support to dream run for standalone files","description":"","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-03T17:50:51.675862-06:00","updated_at":"2026-01-03T18:55:26.45216-06:00","closed_at":"2026-01-03T18:55:26.45216-06:00","close_reason":"Implemented multi-file project support. Added load_all_in_dir() to ModuleLoader for recursive file discovery, updated cmd_build to compile all .dream files in src/, and created multifile_project example."}
{"id":"toybeam-pio","title":"System info primitives","description":"","status":"closed","priority":1,"issue_type":"feature","created_at":"2026-01-02T19:53:41.366369-06:00","updated_at":"2026-01-02T19:57:28.090008-06:00","closed_at":"2026-01-02T19:57:28.090008-06:00","close_reason":"Added SelfPid, ProcessList, ProcessCount, IsAlive, ProcessInfo, ModuleList, FunctionExported instructions. 7 tests."}
{"id":"toybeam-ptk","title":"stdlib/stream - Lazy evaluation","description":"Implement Stream module for lazy/infinite sequences. Functions return streams that evaluate on demand: iterate, cycle, repeatedly, unfold, take, map, filter, chunk. Composable with Enum.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-03T20:52:19.902749-06:00","updated_at":"2026-01-03T20:52:19.902749-06:00"}
{"id":"toybeam-qoc","title":"IO primitives","description":"","status":"closed","priority":1,"issue_type":"feature","created_at":"2026-01-02T19:53:37.394249-06:00","updated_at":"2026-01-02T19:57:27.885524-06:00","closed_at":"2026-01-02T19:57:27.885524-06:00","close_reason":"Added PrintLn, ReadLine, FileRead, FileWrite, FileExists, FileDelete instructions. 3 tests."}
{"id":"toybeam-qxx","title":"UFCS should resolve impl methods","description":"Method calls like m.put() use UFCS but only check imports, not impl_methods. Should allow m.put() to call Map_put when m has __struct__ = Map. Requires runtime dispatch or type tracking.","status":"open","priority":2,"issue_type":"bug","created_at":"2026-01-03T21:24:23.434295-06:00","updated_at":"2026-01-03T21:24:23.434295-06:00"}
{"id":"toybeam-tpr","title":"stdlib/file - File I/O","description":"Implement File module: read, write, read_lines, write_lines, exists, mkdir, rm, cp, mv, ls, stat, cwd, cd. Wrap Erlang file module.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-03T20:52:19.902765-06:00","updated_at":"2026-01-03T20:52:19.902765-06:00"}
{"id":"toybeam-xa0","title":"Create stdlib/option module","description":"Move Option\u003cT\u003e enum and helper functions from examples to stdlib","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-03T15:43:39.021389-06:00","updated_at":"2026-01-03T15:54:07.717991-06:00","closed_at":"2026-01-03T15:54:07.717991-06:00","close_reason":"Initial implementation complete - modules compile successfully"}
{"id":"toybeam-z7b","title":"stdlib/supervisor - OTP Supervisor","description":"Implement Supervisor behavior. start_link, child_spec, which_children, count_children. Supervision strategies: one_for_one, one_for_all, rest_for_one.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-03T20:52:42.367036-06:00","updated_at":"2026-01-03T20:52:42.367036-06:00"}
{"id":"toybeam-zt6","title":"Hot code loading","description":"","status":"open","priority":4,"issue_type":"feature","created_at":"2026-01-02T19:54:01.00302-06:00","updated_at":"2026-01-02T19:54:01.00302-06:00"}
